"use strict";(self.webpackChunkframework=self.webpackChunkframework||[]).push([[479],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),u=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(n),d=a,h=p["".concat(l,".").concat(d)]||p[d]||m[d]||r;return n?o.createElement(h,i(i({ref:t},c),{},{components:n})):o.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var u=2;u<r;u++)i[u]=n[u];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5584:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var o=n(7462),a=(n(7294),n(3905));const r={id:"improve_context",title:"Improve Context",sidebar_position:2},i=void 0,s={unversionedId:"engineering/transformations/ai_augmentations/improve_context",id:"engineering/transformations/ai_augmentations/improve_context",title:"Improve Context",description:"As you work on augmenting your data platform with large language models, you quickly hit a limit in the prompt context that allows a model to answer questions that are relevant to your data. Let's look at the problem and solutions.",source:"@site/docs/engineering/transformations/ai_augmentations/improve_context.md",sourceDirName:"engineering/transformations/ai_augmentations",slug:"/engineering/transformations/ai_augmentations/improve_context",permalink:"/framework/engineering/transformations/ai_augmentations/improve_context",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"improve_context",title:"Improve Context",sidebar_position:2},sidebar:"frameworkSidebar",previous:{title:"LLM Orchestration Frameworks",permalink:"/framework/engineering/transformations/ai_augmentations/llm_orchestration_frameworks"},next:{title:"Data Quality",permalink:"/framework/engineering/data_quality/"}},l={},u=[{value:"Prompt Context",id:"prompt-context",level:2},{value:"Model fine-tuning",id:"model-fine-tuning",level:2},{value:"In-Context Learning",id:"in-context-learning",level:2},{value:"Retrieval Augmented Generation (RAG)",id:"retrieval-augmented-generation-rag",level:2}],c={toc:u},p="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"As you work on augmenting your data platform with large language models, you quickly hit a limit in the prompt context that allows a model to answer questions that are relevant to your data. Let's look at the problem and solutions."),(0,a.kt)("h2",{id:"prompt-context"},"Prompt Context"),(0,a.kt)("p",null,"Models are limited by the number of tokens you can pass in your prompt. You would usually pack that prompt with context before asking a question. Something like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Example prompt"',title:'"Example','prompt"':!0},"Given this overview of the Canada Convoy Protest:\n\n'A series of protests and blockades in Canada against COVID-19 vaccine mandates and restrictions, called the Freedom Convoy (French: Convoi de la libert\xe9) by organizers, began in early 2022. The initial convoy movement was created to protest vaccine mandates for crossing the United States border, but later evolved into a protest about COVID-19 mandates in general. Beginning January 22, hundreds of vehicles formed convoys from several points and traversed Canadian provinces before converging on Ottawa on January 29, 2022, with a rally at Parliament Hill. The convoys were joined by thousands of pedestrian protesters. Several offshoot protests blockaded provincial capitals and border crossings with the United States.'\n\nCan you tell me if the following article talks about those protests, either the event itself, the actors, the aftermaths, etc. Answer stricly by either 'True' or 'False'.\n\n#####\n\nArticle summary: {summary}\n")),(0,a.kt)("p",null,"The advantage of this approach is its simplicity, but the drawbacks are obviously the limitations in terms of contextual data you can pass in that prompt. "),(0,a.kt)("h2",{id:"model-fine-tuning"},"Model fine-tuning"),(0,a.kt)("p",null,"This is beyond our knowledge and for good reasons. You can fine-tune models on your data, but that requires expertise in machine learning, which might not be the case for us poor analytics engineers. But just know that this is the most robust option if you have the in-house expertise and resources."),(0,a.kt)("h2",{id:"in-context-learning"},"In-Context Learning"),(0,a.kt)("p",null,'In-context learning is about "extending" that context before actually querying the model. That means you would start a thread and pass contextual statements first. As long as you are working with a chat model that retains context, then this is probably the least complex approach to extend the context without tackling model fine-tuning.'),(0,a.kt)("p",null,'This solution works for small datasets that you want to pass as context. In my "Freedom Convoy" prompt example above, this would probably be the best approach as I only want to pass a few articles that provide contextual data about the event I\'m covering.'),(0,a.kt)("h2",{id:"retrieval-augmented-generation-rag"},"Retrieval Augmented Generation (RAG)"),(0,a.kt)("p",null,"This one is a bit more complex but allows you to work with more contextual data. The idea is that you would vectorize your data and store that in a vector database. Then whenever a query is sent, an LLM would first retrieve the relevant documents from your vector database to help answer that question. Those retrieved documents are then used as the context to answer your query."),(0,a.kt)("p",null,"This diagram from ",(0,a.kt)("a",{parentName:"p",href:"https://towardsdatascience.com/rag-vs-finetuning-which-is-the-best-tool-to-boost-your-llm-application-94654b1eaba7"},"Heiko Hotz")," gives a good overview of how you would architect such an approach."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://miro.medium.com/v2/resize:fit:4800/format:webp/1*Jq9bEbitg1Pv4oASwEQwJg.png",alt:"RAG architecture"})),(0,a.kt)("p",null,"This requires more engineering but is probably the most appropriate solution for working with larger datasets."))}m.isMDXComponent=!0}}]);